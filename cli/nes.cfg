SYMBOLS {
__STACKSIZE__: type = weak, value = $0100;      # 256 bytes software stack for C
NES_MAPPER:    type = weak, value = 0; 			# Mapper 0 (NROM)
NES_PRG_BANKS: type = weak, value = 2; 			# 2x16KB = 32KB PRG
NES_CHR_BANKS: type = weak, value = 1; 			# 1x8KB CHR
NES_MIRRORING: type = weak, value = 0; 			# 0=Horiz, 1=Vert
}

MEMORY {
HDR:    start = $0000,  size = $0010, type = ro, file = %O, fill = yes, fillval = $00;
ZP:     start = $00,    size = $0100, type = rw, file = "", define = yes;
RAM:    start = $0300,  size = $0500, type = rw, file = "", define = yes;
PRG:    start = $8000,  size = $8000, type = ro, file = %O, fill = yes, fillval = $00, define = yes;
CHR:    start = $0000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
}

SEGMENTS {
HEADER:   load = HDR, type = ro;
ZEROPAGE: load = ZP,  type = zp;
STARTUP:  load = PRG, type = ro,  define = yes;
INIT:     load = PRG, type = ro,  define = yes, optional = yes;
ONCE:     load = PRG, type = ro,  define = yes, optional = yes;
CODE:     load = PRG, type = ro,  define = yes;
RODATA:   load = PRG, type = ro,  define = yes;
DATA:     load = PRG, run = RAM, type = rw,  define = yes;
VECTORS:  load = PRG, type = ro,  start = $FFFA;
BSS:      load = RAM, type = bss, define = yes;
CHARS:    load = CHR, type = ro, optional = yes;
}

FEATURES {
CONDES: segment = INIT,
    type = constructor,
    label = __CONSTRUCTOR_TABLE__,
    count = __CONSTRUCTOR_COUNT__;
CONDES: segment = RODATA,
    type = destructor,
    label = __DESTRUCTOR_TABLE__,
    count = __DESTRUCTOR_COUNT__;
CONDES: segment = RODATA,
    type = interruptor,
    label = __INTERRUPTOR_TABLE__,
    count = __INTERRUPTOR_COUNT__;
}
